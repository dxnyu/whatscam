<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Digital Lifestyle Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .slide-in {
            animation: slideIn 0.6s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        img {
            display: block;
            margin: auto;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-50 via-purple-50 to-pink-50 min-h-screen">
    <div class="container mx-auto px-4 py-8">
        <!-- <h1 class="text-4xl font-bold text-center mb-2 text-gray-800">‚ú® Your Digital Lifestyle Quiz</h1> -->
        <!-- <p class="text-center text-gray-600 mb-8">Discover your unique online personality and habits</p> -->
        
        <!-- Quiz Container -->
        <div id="quiz-container" class="max-w-3xl mx-auto">
            <!-- Start Screen -->
            <div id="start-screen" class="bg-white rounded-xl shadow-lg p-8 text-center fade-in">
                <div class="text-6xl mb-4" justify="center"><img src="https://checkmate.sg/lovable-uploads/checkmate.svg" alt="CM logo" width="95" height ="95"></div>
                <h2 class="text-2xl font-bold mb-4 text-gray-800">What's Your Digital Vibe?</h2>
                <p class="text-gray-600 mb-6">Spill your screen-time secrets and we'll tell you what kind of digital creature you are üëæ</p>
                <div class="bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-purple-400 p-4 mb-6 text-left">
                    <p class="text-sm text-gray-700"><strong>Privacy Note:</strong> Your answers stay on your device. We do not collect or store any personal information.</p>
                </div>
                <button id="start-btn" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold py-3 px-8 rounded-lg transition-all transform hover:scale-105 shadow-lg">
                    Start Quiz üöÄ
                </button>
            </div>
            
            <!-- Quiz Screen -->
            <div id="quiz-screen" class="bg-white rounded-xl shadow-lg p-8 hidden">
                <!-- Progress Bar -->
                <div class="mb-6">
                    <div class="flex justify-between text-sm text-gray-600 mb-2">
                        <span>Question <span id="current-q">1</span> of <span id="total-q">10</span></span>
                        <span id="category-tag" class="bg-gradient-to-r from-purple-100 to-pink-100 text-purple-700 px-3 py-1 rounded-full text-xs font-semibold"></span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-3">
                        <div id="progress-bar" class="bg-gradient-to-r from-purple-500 via-pink-500 to-orange-400 h-3 rounded-full transition-all duration-500" style="width: 10%"></div>
                    </div>
                </div>
                
                <!-- Question -->
                <div class="mb-8">
                    <h3 id="question-text" class="text-xl font-semibold mb-6 text-gray-800"></h3>
                    <div id="options-container" class="space-y-3"></div>
                </div>
            </div>
            
            <!-- Results Screen -->
            <div id="results-screen" class="bg-white rounded-xl shadow-lg p-8 hidden">
                <div class="text-center mb-8">
                    <div class="text-6xl mb-4">üé≠</div>
                    <h2 class="text-3xl font-bold mb-2 text-gray-800">Your Digital Personality Profile</h2>
                    <p class="text-gray-600">Here's what your online habits reveal about you!</p>
                </div>
                
                <!-- Personality Type -->
                <div id="personality-overview" class="mb-8 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border-l-4 border-purple-500">
                    <h3 class="text-2xl font-bold mb-3 text-gray-800"><span id="personality-type"></span></h3>
                    <p id="personality-description" class="text-gray-700 text-lg"></p>
                </div>
                
                <!-- The Reveal -->
                <div class="mb-8 p-6 bg-gradient-to-r from-orange-50 to-red-50 rounded-lg border-l-4 border-orange-500">
                    <h3 class="text-xl font-bold mb-3 text-gray-800">‚ö†Ô∏è But Here's What You Need to Know...</h3>
                    <p class="text-gray-700 mb-4">Your digital personality type, while unique and interesting, unfortunately makes you a target for specific types of online scams. Scammers study behavior patterns like yours to craft convincing deceptions.</p>
                    <p id="risk-description" class="text-gray-700 font-semibold"></p>
                </div>
                
                <!-- Specific Scam Vulnerabilities -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-gray-800">üéØ Top 3 Scams Designed to Target Your Personality Type</h3>
                    <p class="text-gray-600 mb-4">Based on your answers, here are the three most dangerous scams that criminals design to exploit people with your digital habits:</p>
                    <div id="vulnerabilities-list" class="space-y-4"></div>
                </div>
                
                <!-- Protection Tips -->
                <div class="mb-8">
                    <h3 class="text-2xl font-bold mb-4 text-gray-800">üõ°Ô∏è Your Personalized Protection Strategy</h3>
                    <p class="text-gray-600 mb-4">Now that you know what you're up against, here's how to protect yourself:</p>
                    <div id="protection-tips" class="space-y-3"></div>
                </div>
                
                <!-- App CTA -->
                <div class="bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-6 mb-6 text-white shadow-xl">
                    <h3 class="text-2xl font-bold mb-2">üö® Confirm whether it's really a scam!</h3>
                    <p class="mb-4">Your profile shows you could do with some protection. CheckMate provides:</p>
                    <ul class="mb-4 space-y-2 text-sm">
                        <li>‚úì Real-time checks on text messages, links, screenshots, or images</li>
                        <li>‚úì AI-powered scam checking system, with additional human verification</li>
                        <li>‚úì Explanation and sources on the identified scam</li>
                    </ul>
                    <button class="bg-white text-purple-600 font-bold py-3 px-6 rounded-lg hover:bg-gray-100 transition-all transform hover:scale-105 w-full shadow-lg">
                        Try CheckMate Now üì±
                    </button>
                </div>
                
                <div class="flex gap-4 justify-center flex-wrap">
                    <button id="share-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg transition-all shadow">
                        Share Your Results üì§
                    </button>
                    <button id="restart-btn" class="bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-6 rounded-lg transition-all shadow">
                        Take Quiz Again üîÑ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Questions framed as day-in-the-life scenarios (Singapore context)
        const questions = [
            {
                question: "It's 7 AM and your alarm just went off. What's the first thing you do? ‚òÄÔ∏è",
                category: "Morning Routine",
                options: [
                    "Grab my phone and check all my notifications right away",
                    "Check WhatsApp and Telegram while still in bed",
                    "Get up first, then check my phone after getting ready",
                    "Leave my phone alone until I've had breakfast"
                ],
                weights: {
                    phishing: [4, 3, 2, 1],
                    urgency: [4, 3, 2, 1]
                }
            },
            {
                question: "You're at a hawker centre for lunch and see a poster for an online sale - your favourite brand at 70% off. What do you do? üçú",
                category: "Shopping Moment",
                options: [
                    "Scan the QR code immediately - that's an amazing deal!",
                    "Check it out and compare with Lazada or Shopee",
                    "Search for the product on websites I already trust",
                    "Skip it - if it seems too good to be true, it probably is"
                ],
                weights: {
                    fake_shops: [4, 2, 1, 0],
                    payment_fraud: [4, 2, 1, 0]
                }
            },
            {
                question: "You get an SMS saying there's an issue with your CDC vouchers and you need to verify your details NOW or lose them. You: üí≥",
                category: "Unexpected Message",
                options: [
                    "Click the link right away - I don't want to lose my vouchers!",
                    "Quickly check and verify if it looks legitimate",
                    "Pause and check the official GovTech or RedeemSG app first",
                    "Ignore it and go directly to gov.sg to verify"
                ],
                weights: {
                    urgency: [4, 3, 2, 0],
                    phishing: [4, 3, 1, 0]
                }
            },
            {
                question: "Someone comments on your photo from your weekend trip to Sentosa or JB. You: üì±",
                category: "Social Media Interaction",
                options: [
                    "Reply with all the details - happy to share my experience!",
                    "Give them the location and some recommendations",
                    "Keep it vague - just mention the general area",
                    "I rarely post personal photos or locations online"
                ],
                weights: {
                    social_engineering: [4, 3, 2, 1],
                    identity_theft: [4, 3, 2, 1],
                    romance: [3, 3, 2, 1]
                }
            },
            {
                question: "You're signing up for a new GrabFood or Foodpanda account. How do you create your password? üîê",
                category: "Account Setup",
                options: [
                    "Use the same password I use for most things - easier to remember",
                    "Use a variation of my usual password with a few changes",
                    "Create something simple but different for this one",
                    "Generate a unique, complex password and save it with Singpass or a password manager"
                ],
                weights: {
                    account_takeover: [4, 3, 2, 0],
                    identity_theft: [4, 3, 2, 0]
                }
            },
            {
                question: "Your air-con breaks down and you need $800 for repairs before the weekend. What's your first move? üå°Ô∏è",
                category: "Financial Emergency",
                options: [
                    "Search online for quick loan options or licensed moneylender apps",
                    "Look into bank personal loans or credit card options",
                    "Call family, friends, or check with my bank's customer service",
                    "Use my CPF savings plan or postpone until I have the money"
                ],
                weights: {
                    loan_scams: [4, 3, 1, 0],
                    investment_fraud: [4, 4, 1, 0],
                    crypto_scams: [4, 3, 1, 0]
                }
            },
            {
                question: "You're working from home and get a call from someone claiming to be from SPF or ICA about illegal activity. You: ‚òéÔ∏è",
                category: "Midday Interruption",
                options: [
                    "Get worried and follow their instructions",
                    "Answer and try to verify if they're legitimate",
                    "Let it ring and check the ScamShield app or Police website",
                    "Hang up immediately and call the official hotline to verify"
                ],
                weights: {
                    vishing: [4, 3, 2, 1],
                    tech_support: [4, 3, 1, 0]
                }
            },
            {
                question: "A pop-up appears saying your SingPass account has been compromised and to call this number immediately. You: üíª",
                category: "Security Alert",
                options: [
                    "Get worried and call the number to secure my account",
                    "Feel uncertain but try to close it carefully",
                    "Close it and check the official SingPass app or website",
                    "Recognize it as fake and force-close the browser"
                ],
                weights: {
                    tech_support: [4, 3, 1, 0],
                    fake_updates: [4, 3, 2, 1],
                    phishing: [3, 2, 1, 0]
                }
            },
            {
                question: "You receive a friend request from someone attractive who also lives in Singapore and shares your interests. You: üíë",
                category: "New Connection",
                options: [
                    "Accept and start chatting - they seem interesting!",
                    "Accept if we have mutual friends or went to the same school/NS",
                    "Check their profile carefully before deciding",
                    "Only accept people I've actually met in person"
                ],
                weights: {
                    romance: [4, 3, 2, 0],
                    social_engineering: [4, 3, 2, 1],
                    catfishing: [4, 3, 2, 0]
                }
            },
            {
                question: "It's evening after dinner. How do you typically spend your free time? üåô",
                category: "Evening Habits",
                options: [
                    "Chatting on Telegram groups, dating apps or making new online friends",
                    "Catching up on WhatsApp messages and emails I missed during the day",
                    "Watching Netflix or scrolling through Instagram and TikTok",
                    "Meeting friends at a kopitiam or doing offline hobbies"
                ],
                weights: {
                    romance: [4, 2, 3, 1],
                    grandparent_scam: [3, 2, 4, 1],
                    urgency: [2, 4, 2, 1],
                    social_engineering: [4, 3, 3, 2]
                }
            }
        ];

        // Personality types based on patterns
        const personalityTypes = {
            highly_connected: {
                name: "The Always-Connected Communicator üì±",
                description: "You're energized by constant communication and staying in the loop. You thrive on real-time information and quick responses. You're the friend everyone can count on for a fast reply!",
                risk: "Your responsiveness and constant connectivity, while admirable, make you a prime target for urgency-based scams and phishing attempts."
            },
            social_butterfly: {
                name: "The Digital Social Butterfly ü¶ã",
                description: "You love connecting with people and sharing your life online. You're open, friendly, and believe in building relationships digitally. Your online presence is vibrant and authentic!",
                risk: "Your openness and social nature make you vulnerable to social engineering, romance scams, and identity theft tactics."
            },
            deal_hunter: {
                name: "The Savvy Deal Hunter üéØ",
                description: "You're resourceful and always looking for the best value. You love discovering great deals and aren't afraid to explore new shopping opportunities. You're smart with your money!",
                risk: "Your hunt for deals makes you a target for fake online stores, too-good-to-be-true offers, and payment fraud schemes."
            },
            fast_responder: {
                name: "The Quick-Action Decision Maker ‚ö°",
                description: "You're decisive and efficient, preferring to handle things immediately rather than letting them pile up. You trust your instincts and move fast. You get things done!",
                risk: "Your quick decision-making style is exactly what scammers exploit with urgency tactics and pressure techniques."
            },
            trusting_helper: {
                name: "The Trusting Helper ü§ù",
                description: "You see the best in people and are always willing to help others. You believe in kindness and giving people the benefit of the doubt. The world needs more people like you!",
                risk: "Your trusting nature and desire to help make you susceptible to emotional manipulation, romance scams, and fake emergency situations."
            },
            casual_user: {
                name: "The Casual Digital User üåø",
                description: "You use technology when you need it but don't let it dominate your life. You have a balanced approach and aren't always plugged in. You maintain healthy boundaries!",
                risk: "Your moderate caution is good, but you still have some vulnerability points that scammers can exploit when you do engage online."
            },
            cautious_browser: {
                name: "The Cautious Browser üîç",
                description: "You're thoughtful and deliberate in your online interactions. You think before you click and verify before you trust. You've developed good digital instincts!",
                risk: "While you're generally careful, sophisticated scams can still bypass your defenses, especially ones that seem legitimate or come from trusted sources."
            }
        };

        // Scam type definitions
        const scamTypes = {
            phishing: {
                name: "Email & SMS Phishing Attacks",
                icon: "üé£",
                description: "Your email and messaging habits make you a target for phishing scams. Scammers send messages that look like they're from legitimate companies to steal your information.",
                examples: "Fake bank alerts, delivery notifications, password reset emails, account verification requests",
                protection: "Never click links in unexpected emails. Always go directly to websites by typing the address yourself. Check sender addresses carefully."
            },
            urgency: {
                name: "Urgency & Pressure Tactics",
                icon: "‚è∞",
                description: "Scammers exploit your decision-making style with fake emergencies and time pressure. They know quick action can bypass critical thinking.",
                examples: "'Account will be closed today!', 'Limited time offer expires in 1 hour', 'Immediate action required'",
                protection: "Remember: Real emergencies don't come via email or text. Urgent messages are red flags. Take time to verify everything."
            },
            fake_shops: {
                name: "Fake Online Stores & Marketplaces",
                icon: "üè™",
                description: "Your shopping behavior attracts scammers who create convincing fake stores with unbelievable deals. They take your money but never send products.",
                examples: "Websites with 70-90% off luxury items, new stores with no reviews, too-good-to-be-true prices",
                protection: "Research stores before buying, check reviews from multiple sources, verify business registration, use secure payment methods"
            },
            payment_fraud: {
                name: "Payment & Checkout Fraud",
                icon: "üí≥",
                description: "Scammers target your payment process with fake checkout pages or suspicious payment requests designed to steal your financial information.",
                examples: "Requests for wire transfers, cryptocurrency-only payments, unusual checkout processes",
                protection: "Only use credit cards (not debit), verify HTTPS and padlock icon, avoid unusual payment methods, enable transaction alerts"
            },
            social_engineering: {
                name: "Social Engineering & Manipulation",
                icon: "üé≠",
                description: "Your social media presence provides scammers with personal details they use to build trust and manipulate you into giving them what they want.",
                examples: "Impersonation of friends/family, personalized scam messages using your posted information, fake friend requests",
                protection: "Limit personal information sharing online, verify unexpected requests even from 'friends', review privacy settings regularly"
            },
            identity_theft: {
                name: "Identity Theft & Account Takeover",
                icon: "üÜî",
                description: "Scammers piece together your digital footprint to steal your identity or take over your accounts for fraud.",
                examples: "Account takeovers, fraudulent credit applications, medical identity theft, tax fraud using your info",
                protection: "Use unique passwords everywhere, enable two-factor authentication, monitor credit reports, limit shared personal data"
            },
            romance: {
                name: "Romance & Relationship Scams",
                icon: "üíî",
                description: "Your openness to connections makes you a target for scammers who create fake romantic relationships to exploit you emotionally and financially.",
                examples: "Fake dating profiles, quick declarations of love, sob stories needing money, 'stranded abroad' scenarios",
                protection: "Never send money to someone you haven't met in person, reverse-image search profile photos, video call before trusting"
            },
            loan_scams: {
                name: "Fake Loan & Advance-Fee Scams",
                icon: "üí∏",
                description: "When you need money, scammers offer 'guaranteed' loans that require upfront fees. They take your fee and disappear.",
                examples: "'Guaranteed approval' loans, upfront fee requirements, no credit check promises, unsolicited loan offers",
                protection: "Verify lenders are licensed, NEVER pay fees before receiving money, research company reviews independently"
            },
            investment_fraud: {
                name: "Investment Fraud & Ponzi Schemes",
                icon: "üìà",
                description: "Scammers promise unrealistic returns on investments, using early investors' money to pay fake 'profits' until the scheme collapses.",
                examples: "Guaranteed high returns, 'risk-free' investments, pressure to invest quickly, exclusive opportunities",
                protection: "If it sounds too good to be true, it is. Research investments independently, verify regulatory compliance, never invest under pressure"
            },
            crypto_scams: {
                name: "Cryptocurrency Scams",
                icon: "‚Çø",
                description: "The complexity and irreversibility of crypto makes you vulnerable to scammers promising easy profits or fake investment opportunities.",
                examples: "Fake crypto exchanges, pump-and-dump schemes, celebrity 'giveaways', investment pools",
                protection: "Only use established exchanges, never share private keys, beware guaranteed returns, research thoroughly"
            },
            vishing: {
                name: "Phone Call Scams (Vishing)",
                icon: "üìû",
                description: "Your phone habits make you susceptible to scam calls. Criminals use caller ID spoofing to appear legitimate and pressure you over the phone.",
                examples: "Fake IRS threats, bank fraud alerts, arrest warrants, tech support calls, Social Security suspension",
                protection: "Hang up and call official numbers directly. Real agencies don't threaten arrests over phone. Never give personal info on unexpected calls"
            },
            tech_support: {
                name: "Tech Support Scams",
                icon: "üñ•Ô∏è",
                description: "Scammers exploit technology confusion with fake warnings and support calls, then charge you for unnecessary 'fixes' or steal your data.",
                examples: "Pop-up virus warnings, calls from 'Microsoft', router security alerts, fake antivirus software",
                protection: "Real companies never cold call about computer problems. Close suspicious pop-ups, never allow remote access to strangers"
            },
            fake_updates: {
                name: "Fake Software Updates & Malware",
                icon: "‚ö†Ô∏è",
                description: "Scammers create fake update notifications that install malware instead of legitimate software, stealing your information or locking your files.",
                examples: "Fake browser updates, Flash player installs, urgent security alerts, fake antivirus warnings",
                protection: "Only update through official app stores or software websites directly. Be suspicious of urgent update pop-ups"
            },
            account_takeover: {
                name: "Account Takeover Attacks",
                icon: "üîì",
                description: "Your password habits make it easier for scammers to break into your accounts, lock you out, and steal sensitive information or money.",
                examples: "Email hijacking, social media takeovers, banking access, shopping account fraud",
                protection: "Use a password manager, create unique passwords for each account, enable 2FA everywhere possible"
            },
            grandparent_scam: {
                name: "Family Emergency Scams",
                icon: "üëµ",
                description: "Scammers impersonate relatives in desperate situations, exploiting your love for family to pressure you into sending money immediately.",
                examples: "'Grandma, I'm in jail', 'stranded abroad' stories, medical emergency calls, 'don't tell mom and dad'",
                protection: "Verify by calling the family member directly on their known number, ask questions only they'd know, don't wire money under pressure"
            },
            catfishing: {
                name: "Catfishing & Fake Identities",
                icon: "üê±",
                description: "Scammers create entirely fake online personas using stolen photos and fabricated stories to manipulate you emotionally or financially.",
                examples: "Too-perfect profiles, stolen photos, elaborate backstories, reasons why they can't video chat",
                protection: "Reverse image search profile photos, insist on video calls, be skeptical of perfect-seeming people, trust your instincts"
            }
        };

        // Game State
        let currentQuestion = 0;
        let scamScores = {};
        let userAnswers = [];

        // Initialize scam scores
        Object.keys(scamTypes).forEach(scam => {
            scamScores[scam] = 0;
        });

        // DOM Elements
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultsScreen = document.getElementById('results-screen');
        const startBtn = document.getElementById('start-btn');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const currentQ = document.getElementById('current-q');
        const totalQ = document.getElementById('total-q');
        const progressBar = document.getElementById('progress-bar');
        const categoryTag = document.getElementById('category-tag');

        // Event Listeners
        startBtn.addEventListener('click', startQuiz);
        document.getElementById('restart-btn').addEventListener('click', restartQuiz);
        document.getElementById('share-btn').addEventListener('click', shareResults);

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            loadQuestion();
        }

        function loadQuestion() {
            const question = questions[currentQuestion];
            questionText.textContent = question.question;
            categoryTag.textContent = question.category;
            
            // Update progress
            currentQ.textContent = currentQuestion + 1;
            totalQ.textContent = questions.length;
            progressBar.style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Create option buttons
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full text-left p-4 border-2 border-gray-300 rounded-lg hover:border-purple-400 hover:bg-purple-50 transition-all transform hover:scale-[1.01]';
                button.textContent = option;
                button.addEventListener('click', () => selectAnswer(index));
                optionsContainer.appendChild(button);
            });
        }

        function selectAnswer(answerIndex) {
            userAnswers.push(answerIndex);
            const question = questions[currentQuestion];
            
            // Update scam scores based on weights
            Object.keys(question.weights).forEach(scamType => {
                scamScores[scamType] += question.weights[scamType][answerIndex];
            });
            
            // Move to next question or show results
            currentQuestion++;
            if (currentQuestion >= questions.length) {
                showResults();
            } else {
                setTimeout(() => loadQuestion(), 300);
            }
        }

        function determinePersonality(avgScore, topScams) {
            // Determine personality based on top scoring patterns
            const topScamTypes = topScams.slice(0, 3).map(([type, _]) => type);
            
            if (topScamTypes.includes('phishing') && topScamTypes.includes('urgency')) {
                return 'highly_connected';
            } else if (topScamTypes.includes('social_engineering') || topScamTypes.includes('romance')) {
                return 'social_butterfly';
            } else if (topScamTypes.includes('fake_shops') || topScamTypes.includes('payment_fraud')) {
                return 'deal_hunter';
            } else if (topScamTypes.includes('urgency')) {
                return 'fast_responder';
            } else if (topScamTypes.includes('romance') || topScamTypes.includes('grandparent_scam')) {
                return 'trusting_helper';
            } else if (avgScore >= 2.5) {
                return 'casual_user';
            } else {
                return 'cautious_browser';
            }
        }

        function showResults() {
            quizScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');
            
            // Sort scam scores to find top vulnerabilities
            const sortedScams = Object.entries(scamScores)
                .sort((a, b) => b[1] - a[1])
                .filter(([_, score]) => score > 0);
            
            const totalScore = sortedScams.reduce((sum, [_, score]) => sum + score, 0);
            const avgScore = totalScore / sortedScams.length;
            
            // Determine and display personality type
            const personalityKey = determinePersonality(avgScore, sortedScams);
            const personality = personalityTypes[personalityKey];
            
            document.getElementById('personality-type').textContent = personality.name;
            document.getElementById('personality-description').textContent = personality.description;
            document.getElementById('risk-description').textContent = personality.risk;
            
            // Display top 3 vulnerabilities only
            const vulnerabilitiesList = document.getElementById('vulnerabilities-list');
            const topScams = sortedScams.slice(0, 3);
            
            topScams.forEach(([scamType, score], index) => {
                const scam = scamTypes[scamType];
                const vulnCard = document.createElement('div');
                vulnCard.className = 'bg-red-50 border-l-4 border-red-500 p-4 rounded-lg slide-in';
                vulnCard.style.animationDelay = `${index * 0.1}s`;
                vulnCard.innerHTML = `
                    <div class="flex items-start gap-3">
                        <div class="text-2xl">${scam.icon}</div>
                        <div class="flex-1">
                            <h4 class="font-bold text-lg text-gray-800 mb-1">${scam.name}</h4>
                            <p class="text-gray-700 text-sm mb-2">${scam.description}</p>
                            <div class="bg-white p-2 rounded text-xs">
                                <strong>Watch out for:</strong> ${scam.examples}
                            </div>
                        </div>
                    </div>
                `;
                vulnerabilitiesList.appendChild(vulnCard);
            });
            
            // Display protection tips for top 3 scams only
            const protectionTips = document.getElementById('protection-tips');
            topScams.forEach(([scamType, _], index) => {
                const scam = scamTypes[scamType];
                const tipCard = document.createElement('div');
                tipCard.className = 'bg-green-50 border-l-4 border-green-500 p-4 rounded-lg slide-in';
                tipCard.style.animationDelay = `${(index + 3) * 0.1}s`;
                tipCard.innerHTML = `
                    <div class="flex items-start gap-3">
                        <div class="text-xl">‚úì</div>
                        <div>
                            <strong class="text-gray-800">${scam.name}:</strong>
                            <span class="text-gray-700"> ${scam.protection}</span>
                        </div>
                    </div>
                `;
                protectionTips.appendChild(tipCard);
            });
        }

        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = [];
            Object.keys(scamTypes).forEach(scam => {
                scamScores[scam] = 0;
            });
            resultsScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        }

        function shareResults() {
            const text = "I just discovered my digital personality type and learned which scams target people like me! üé≠ Take this quiz to find out yours!";
            
            if (navigator.share) {
                navigator.share({
                    title: 'My Digital Personality Profile',
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(text + ' ' + window.location.href).then(() => {
                    alert('Link copied to clipboard! Share with friends to help them discover their vulnerabilities!');
                });
            }
        }
    </script>
</body>
</html>
